# Tamagochi Puss The Game

## Описание

Это простая игра тамагочи, в котором необходимо следить за показателями Кота.

## Структура проекта

```
Tamagochi/
├── src/                    # Исходный код приложения
│   ├── main.py             # Главный файл с точкой входа
│   ├── game_logic.py       # Основная игровая логика
│   ├── game_state.py       # Управление состоянием игры
│   ├── config.py           # Конфигурация и константы
│   ├── data.py             # Загрузка ресурсов
│   └── __init__.py
├── assets/                 # Ресурсы игры
│   ├── sprites/           # Изображения спрайтов
│   ├── sounds/            # Звуковые эффекты
│   ├── music/             # Музыка
│   └── fonts/             # Шрифты
├── saves/                  # Сохранения игры
│   └── game_save.json
├── requirements.txt        # Зависимости проекта
├── .gitignore            # Игнорируемые файлы Git
└── README.md             # Этот файл
```

## Технологии

Список технологий, которые использовались для разработки:

- Язык программирования Python 3.7+
- Библиотека Pygame >= 2.5.0
- Библиотека Pygame-menu >= 4.4.0

## Установка и запуск

Пошаговая инструкция для установки и запуска проекта на локальной машине:

1. **Клонируйте репозиторий:**

   ```bash
   git clone https://github.com/wyddy7/Tamagochi
   ```

2. **Перейдите в директорию проекта:**

   ```bash
   cd Tamagochi
   ```

3. **Установите зависимости:**

   ```bash
   pip install -r requirements.txt
   ```

   или если используете pip3:

   ```bash
   pip3 install -r requirements.txt
   ```

4. **Запустите проект:**

   Из корня проекта (рекомендуемый способ):

   ```bash
   python -m src.main
   ```

   Или через прямой запуск:

   ```bash
   cd src
   python main.py
   cd ..
   ```

   Для Linux/Mac используйте `python3` вместо `python`.

## Что делать в игре?

Сама по себе игра простенькая, тут несколько показателей, за которыми надо следить:

- **Голод**: Кормите кота, перетаскивая еду к нему
- **Энергия**: Включайте лампу, чтобы кот отдохнул и восстановил энергию
- **Радость**: Гладьте кота, перетаскивая руку к нему

В игре есть звуки и приятно гладить кота.

### Управление

- **ESC** - Выход из игры (с сохранением)
- **M** - Переключение звука (Mute/Unmute)
- **ЛКМ** - Перетаскивание еды и руки к коту
- **ПКМ** - Включение/выключение лампы

## Демонстрация геймплея

![Игра получается](pussygame.gif)

## Особенности

- Плавное снижение показателей со временем
- Автоматическое сохранение показателей при выходе из игры в формате JSON
- Возможность начать новую игру или продолжить сохраненную
- Реализована анимация руки при поглаживании
- Анимация кота во время сна
- Анимация кота в зависимости от уровня голода
- Настраиваемая громкость музыки и звуков
- Реалистичная система управления ресурсами питомца

## Миграция данных

Если у вас есть старые сохранения в формате `pet_info.txt`, запустите скрипт миграции:

```bash
python migrate_saves.py
```

Это конвертирует ваше сохранение в новый JSON формат.

## Улучшения проекта

### Исправленные проблемы

- Убрано опасное использование `os.chdir()`, изменяющего глобальное состояние
- Исправлена логика переключения звука (клавиша M)
- Добавлена корректная обработка ошибок при загрузке ресурсов
- Улучшена структура проекта и организация кода
- Устранено дублирование кода в методах слайдеров громкости
- Все пути к ресурсам теперь используют `pathlib` вместо строковых конкатенаций
- Переход с текстового формата сохранений на JSON

### Улучшения архитектуры

- Разделение ответственности: `GameState` управляет состоянием, `TamagochiGame` - игровой логикой
- Добавлены docstrings ко всем основным методам и классам
- Вынесены все константы в `config.py`
- Ресурсы организованы в папку `assets/` с подкаталогами
- Улучшена читаемость и поддерживаемость кода

## Планы на будущее

Пространства для развития достаточно большое:

1. Реализовать смену локаций
2. Добавить больше интеракций с котом (игрушки, купание, уборка)
3. Реализовать кастомизацию кота
4. Проработать спрайты кота на разные вариации
5. Добавить систему достижений
6. Реализовать мультиплеер

## Автор

- GitHub: [ссылка на профиль](https://github.com/wyddy7)
